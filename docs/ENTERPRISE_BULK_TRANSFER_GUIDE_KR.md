# 🏢 Vision Architect: 기업용 대량 전송(Enterprise Bulk Transfer) 사용자 가이드

Vision Architect의 **'다중 트랜잭션 에이전트'**를 사용하여 수백 개의 주소에 자산을 일괄 전송하거나 예약하는 프로세스를 안내합니다. 이 기능은 기업의 급여 지급, 파트너사 정산 등 대규모 온체인 업무를 안전하고 스마트하게 처리하도록 설계되었습니다.

---

### 1. 📁 CSV 파일 준비 (Data Preparation)

가장 먼저 전송할 대상 리스트를 CSV 파일로 작성해야 합니다. Vision AI는 자연어 처리 능력을 통해 다양한 헤더 구성을 이해할 수 있습니다.

**권장 헤더 구성:**
- `VID` 또는 `Name`: 주소록에 등록된 사용자 이름이나 ID (자동 주소 변환 지원)
- `Recipient`: 실제 0x 지갑 주소 (VID가 없는 경우 사용)
- `Amount`: 전송할 자산의 양
- `Symbol`: 자산 유형 (VCN, ETH 등)

**💡 Tip: 템플릿 자동 생성**
작성 양식이 고민되신다면 AI에게 **"대량 전송 템플릿 파일 줘"**라고 말해보세요. 즉시 다운로드 가능한 표준 CSV 파일을 제공해 드립니다.

**예시 (payroll.csv):**
```csv
VID,Recipient,Amount,Symbol
Ryu CEO,0x123...,1500,VCN
Alice Manager,0x456...,1200,VCN
Unknown Partner,0x789...,500,ETH
```

---

### 2. 📤 파일 업로드 및 에이전트 구동

파일이 준비되었다면 Vision Wallet 채팅창을 통해 에이전트를 활성화합니다.

1.  **파일 첨부**: 채팅창 하단의 `+` 버튼을 클릭하거나 파일을 드래그하여 CSV를 업로드합니다.
2.  **명령 입력**: "이 리스트대로 급여 이체 시작해줘" 혹은 "업로드한 파일 검토 후 실행 계획 짜줘"라고 입력합니다.
3.  **AI 분석**: AI가 CSV 내용을 파싱하고, 주소록을 참조하여 VID를 실제 주소로 변환합니다.
4.  **최종 승인**: AI가 제시한 실행 계획(총 건수, 총 금액)을 확인하고 **Spending Password**를 입력하여 승인합니다.

---

### 3. ⏳ 실시간 모니터링 (Batch Agent Queue)

승인이 완료되면 채팅창 상단에 **'Batch Agent'** 큐가 생성됩니다.

- <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line></svg> **Progress Bar**: 원형 인디케이터가 실시간으로 전송 진행률을 표시합니다.
- **10초 간격 실행**: 네트워크 안정성을 위해 각 트랜잭션은 10초 간격으로 순차 실행됩니다.
- **에이전트 이탈**: 모든 작업이 완료되면 에이전트 아이콘은 큐에서 자동으로 사라집니다.

---

### 4. 📊 전송 결과 보고서 및 사후 처리

모든 트랜잭션이 끝나면 AI가 종합 보고서를 작성합니다.

- **성공/실패 통계**: 성공한 건수와 실패한 사유를 한눈에 보여줍니다.
- **기업 재무용 회계 보고서**: 전체 트랜잭션의 상세 결과(날짜, 주소, 금액, TxHash 등)가 담긴 **[📥 전송결과_회계보고서.csv]**를 제공합니다. 기업의 증빙 및 감사 자료로 활용 가능합니다.
- **실패 수정용(Remediation) CSV**: 전송에 실패한 항목만 따로 모아 **[📥 실패 리스트_복구용.csv]** 파일로 제공합니다.
- **복구 워크플로우**: 다운로드한 복구용 CSV에서 에러 사유(잔고 부족 등)를 해결한 후, 해당 파일을 그대로 다시 업로드하여 재전송을 요청하면 됩니다.

---

### 🛡️ 보안 및 안정성 정책

- **비보관형 권한 위임**: 비밀번호 입력 시 생성된 서명은 해당 배치 실행 시점에만 유효하며, 서버에 저장되지 않습니다.
- **트랜잭션 멱등성**: 네트워크 끊김 등으로 상태가 불분명할 경우 중복 전송을 방지하기 위해 해당 건을 '실패'로 분류하고 관리자의 개입을 요청합니다.
- **가스비 최적화**: 매 트랜잭션 실행 직전 실시간 네트워크 상황을 체크하여 가스비를 최적화합니다.

---

**Tip**: 대량 전송 시작 전, 지갑에 충분한 **가스비(Native Asset)**와 전송할 **자산 잔고**가 있는지 에이전트에게 먼저 물어보세요. "내 잔고로 이 CSV 실행 가능한지 체크해줘"라고 요청하면 시뮬레이션 결과를 먼저 알려줍니다.
